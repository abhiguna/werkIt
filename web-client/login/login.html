<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Favicon -->
    <link rel=icon type=image/x-icon href=../assets/favicon.png>
    <!-- jQuery -->
    <script src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk=" crossorigin="anonymous"></script>
    <!-- Bootstrap CDN -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
        integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css"
        integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"
        integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa"
        crossorigin="anonymous"></script>

    <!-- Learned Bootstrap From -->
    <!--  https://getbootstrap.com/-->

    <!-- Font Awesome -->
    <script src="https://kit.fontawesome.com/25ed10730a.js" crossorigin="anonymous"></script>

    <!-- Personalized CSS -->
    <link rel="stylesheet" href="login.css">

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />

    <title>Login</title>

    <script type="text/javascript" src="../loading/loading.js"></script>
    <script>
        window.onload = function () {
            pageload();
        };

        window.onclick = function () {
            pageclick();
        };

    </script>

    <script>
    // Loading Symbol -- Please Uncomment Before Sprint Review

        /* checkNetworkConnection();
                document.getElementById("We're Werking on it...").hidden = false;
                document.getElementById("We're Werking on it text").hidden = false; */

        /* if (!checkNetworkConnectionCaller()) {
                event.preventDefault();
                // document.getElementById("We're Werking on it...").hidden = false;
                // document.getElementById("We're Werking on it...").hidden = true;
            } */
    </script>

</head>

<body>
    <div class="login-form">
        <form>
            <div class="col-sm-12 text-center">
                <img id="We're Werking on it..." src="../../Loading_Assets/Loading_GT1_Client_Wait.gif" hidden />
                <div id="We're Werking on it text" hidden="true">
                    One moment, We're Werking on Your Network Connection...
                </div>
            </div>
            <!-- Header -->
            <div class="text-center" id="container">
                <a href="../index.html"><i
                        class="animate__animated animate__slideInLeft health-icon fas fa-running"></i></a>
                <h2 class="text-center">Login</h2>
            </div>
            <hr>

            <!-- Username -->
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fas fa-user-shield"></i></span>
                    <input type="text" class="form-control" id="username" name="username" placeholder="Username"
                        required="required">
                </div>
            </div>

            <!-- Password -->
            <div class="form-group">
                <div class="input-group">
                    <span class="input-group-addon"><i class="fas fa-key"></i></span>
                    <input type="password" class="form-control" id="password" name="password" placeholder="Password"
                        required="required">
                </div>
            </div>


            <div class="form-group row">
                <div class="col-sm-12 text-center">
                    <p></p>
                    <button type="submit" id="submit-btn" type="submit"
                        class="btn btn-login btn-lg btn-block">Login</button>
                </div>

            </div>
            <div class="form-group row">
                <div class="col-sm-6 text-center">
                    <p>Don't have an account?</p>
                    <a href="../signup/signup.html" class="btn btn-signup btn-lg btn-block" role="button">Sign Up</a>
                </div>
                <div class="col-sm-6 text-center">
                    <p>Forgot Password?</p>
                    <a href="../reset/reset.html" class="btn btn-reset btn-lg btn-block" role="button">Reset
                        Password</a>
                </div>
            </div>
        </form>
    </div>
    <div class="center">
        <img id="We're Werking on it..." src="../../Loading_Assets/Loading_GT1_Client_Wait.gif" hidden />
        <div id="We're Werking on it text" hidden="true">
            One moment, We're Werking on Your Network Connection...
        </div>
    </div>
    <script>
        $("#submit-btn").click(function (event) {
            event.preventDefault();
            var uname = $("#username").val();
            localStorage.setItem("user", uname);
            var password = $("#password").val();
            // var profiles = {
            //     "f_name": fName,
            //     "l_name": lName,
            //     "email": email,
            //     "username": uname,
            //     "password": password
            // };
            $.ajax({
                url: 'http://127.0.0.1:8000/login',
                type: 'POST',
                cache: false,
                data: {
                    username: uname,
                    password: password
                },
                success: function (data, textStatus) {
                    // Dashboard Redirect
                    // window.location.href = 'http://agunase.github.io/werkIt/web-client/dashboard/dashboard.html';
                    // Motivational Quotes Redirect
                    window.location.href = 'http://agunase.github.io/werkIt/web-client/quote/quote.html';
                    //window.location.href = 'file:///Users/abhishekgunasekar/Desktop/werkIt/web-client/quote/quote.html';

                },
                error: function (jqXHR, textStatus, err) {
                    // alert('text status ' + textStatus + ', err ' + err)
                    alert("please enter correct credentials and try again");
                }
            })
            // window.location = "../dashboard/dashboard.html";
        });
    </script>
</body>

</html>