"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.getIsVersionRegisteredAndDifferent = exports.registerUploadyContextVersion = exports.getRegisteredVersion = exports.getVersion = exports.GLOBAL_VERSION_SYM = void 0;

var _shared = require("@rpldy/shared");

var GLOBAL_VERSION_SYM = Symbol["for"]("_rpldy-version_");
exports.GLOBAL_VERSION_SYM = GLOBAL_VERSION_SYM;

var getVersion = function () {
  return "0.11.4" || "";
};

exports.getVersion = getVersion;

var getRegisteredVersion = function () {
  /* istanbul ignore next */
  var global = (0, _shared.hasWindow)() ? window : process; // $FlowIgnore

  return global[GLOBAL_VERSION_SYM];
};

exports.getRegisteredVersion = getRegisteredVersion;

var registerUploadyContextVersion = function () {
  var global = (0, _shared.hasWindow)() ? window : process; //$FlowIgnore

  global[GLOBAL_VERSION_SYM] = getVersion();
};

exports.registerUploadyContextVersion = registerUploadyContextVersion;

var getIsVersionRegisteredAndDifferent = function () {
  var registeredVersion = getRegisteredVersion();
  return !!registeredVersion && registeredVersion !== getVersion();
};

exports.getIsVersionRegisteredAndDifferent = getIsVersionRegisteredAndDifferent;